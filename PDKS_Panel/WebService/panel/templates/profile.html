{% extends 'layout.html' %} {% block content %}
<div
  class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"
>
  <h1 class="h2">Profil Ayarları</h1>
</div>

<div class="row">
  <div class="col-md-8">
    <div class="card">
      <div class="card-header">
        <h5 class="card-title mb-0">Profil Bilgileri</h5>
      </div>
      <div class="card-body">
        <form method="POST" action="{{ url_for('profile') }}">
          <div class="mb-3">
            <label for="username" class="form-label">Kullanıcı Adı</label>
            <input
              type="text"
              class="form-control"
              id="username"
              value="{{ user.username }}"
              disabled
            />
            <div class="form-text">Kullanıcı adı değiştirilemez.</div>
          </div>

          <div class="mb-3">
            <label for="name" class="form-label">İsim</label>
            <input
              type="text"
              class="form-control"
              id="name"
              name="name"
              value="{{ user.name }}"
            />
          </div>

          <div class="mb-3">
            <label for="email" class="form-label">E-posta</label>
            <input
              type="email"
              class="form-control"
              id="email"
              name="email"
              value="{{ user.email }}"
            />
          </div>

          <h5 class="mt-4 mb-3">Şifre Değiştirme</h5>
          <div class="mb-3">
            <label for="current_password" class="form-label"
              >Mevcut Şifre</label
            >
            <input
              type="password"
              class="form-control"
              id="current_password"
              name="current_password"
            />
            <div class="form-text">
              Şifrenizi değiştirmek istiyorsanız, önce mevcut şifrenizi girin.
            </div>
          </div>

          <div class="mb-3">
            <label for="new_password" class="form-label">Yeni Şifre</label>
            <input
              type="password"
              class="form-control"
              id="new_password"
              name="new_password"
            />
          </div>

          <div class="d-grid gap-2">
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save"></i> Değişiklikleri Kaydet
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card">
      <div class="card-header">
        <h5 class="card-title mb-0">Hesap Bilgileri</h5>
      </div>
      <div class="card-body">
        <div class="text-center mb-4">
          <div
            style="
              width: 100px;
              height: 100px;
              background-color: #f8f9fa;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              margin: 0 auto;
            "
          >
            <i class="fas fa-user fa-3x text-muted"></i>
          </div>
          <h5 class="mt-3">{{ user.name }}</h5>
          <p class="text-muted">{{ user.username }}</p>
        </div>

        <ul class="list-group list-group-flush">
          <li
            class="list-group-item d-flex justify-content-between align-items-center"
          >
            <span>Kullanıcı ID</span>
            <span class="badge bg-primary rounded-pill">{{ user.id }}</span>
          </li>
          <li
            class="list-group-item d-flex justify-content-between align-items-center"
          >
            <span>E-posta</span>
            <span class="text-muted"
              >{{ user.email if user.email else 'Belirtilmemiş' }}</span
            >
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
{% endblock %}
